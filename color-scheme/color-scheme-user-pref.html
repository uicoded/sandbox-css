<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>color-scheme honor user pref</title>
    <style>
      :root {
        /* light styles here */
        color-scheme: var(--color-scheme, light);

        body {
          background-color: #ccc;
          color: #333;
        }
        p {
          background-color: #fff;
          padding: 1em;
          border-radius: 5px;
        }

        /* system preference is "dark" */
        @media (prefers-color-scheme: dark) {
          --color-scheme: dark;
          /* any additional dark styles here */
          p {
            background-color: #666;
            color: #ddd;
          }
        }
      }

      body {
        max-width: 120ch;
      }
    </style>
  </head>
  <body>
    <h1>color-scheme honor user pref</h1>
    <p>
      This page prefers light unles the UA defines otherwise. In such case it
      adds custom dark styles
    </p>
    <p>
      User agents are not required to support any particular color scheme, so
      only using a single keyword, such as color-scheme: dark, to indicate a
      required color scheme is still not guaranteed to have any effect on the
      rendering of the element.
    </p>
    <p>
      A page that responds to user preferences for light or dark display by
      using the prefers-color-scheme media feature to alter the colors it uses
      can easily opt the browser-controlled UI (scrollbars, inputs, etc) to
      match with a simple global declaration: <br />
      <code> :root { color-scheme: light dark; } </code>
    </p>
    <p>
      If a page cannot reasonably accommodate all color schemes, such as for
      branding or theatrical reasons, color-scheme can still indicate which
      color schemes the page can support, causing the UI to match.
    </p>
    <p>
      If the pageâ€™s color scheme is primarily light, the following will indicate
      that explicitly: <br />
      <code> :root { color-scheme: light; } </code>
    </p>
    <p>
      While if the page is primarily dark, indicating that explicitly will make
      the page look more coherent as well: <br />
      <code> :root { color-scheme: dark; } </code>
    </p>
    <p>However, it is better to support both color schemes, of course.</p>
    <p>
      <a href="https://drafts.csswg.org/css-color-adjust/#color-scheme-prop"
        >W3C</a
      >,
      <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color-scheme"
        >MDN</a
      >,
      <a
        href="https://www.smashingmagazine.com/2024/03/setting-persisting-color-scheme-preferences-css-javascript/"
        >SmashingMagazine</a
      >
    </p>
  </body>
</html>
